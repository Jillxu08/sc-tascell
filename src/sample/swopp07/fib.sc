(decl (csym::printf) (csym::fn int (ptr (const char)) va-arg))
(decl (csym::atoi)   (csym::fn int (ptr (const char))))

(def (fib n) (fn int int)
  (if (<= n 2) 
      (return 1)
      (return (+ (fib (- n 2))
		 (fib (- n 1))))))

(def (main argc argv) (fn int int (ptr (ptr char)))
  (def a int 22)
  (if (> argc 1)
      (= a (csym::atoi (aref argv 1))))
  (csym::printf "fib(%d) = %d~%" a (fib a))
  (return 0))
