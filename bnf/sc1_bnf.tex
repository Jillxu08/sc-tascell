%% 2003/10/29 sc1のbnf 内容はsc_bnf.tex.v7と同じ
\documentclass[a4j,twocolumn]{article}
\usepackage{times}
\begin{document}
\newcommand{\opt}{$_{opt}$}

%------------------------------------------------------------------------------
\section{External Definitions}

\it \noindent
translation-unit: \\
\quad external-declaration \\
\quad translation-unit external-declaration \\


\noindent
external-declaration: \\
\quad declaration \\

%------------------------------------------------------------------------------
\rm 
\section{Declarations}
\it 

\noindent
declaration-list: \\
\quad declaration \\
\quad declaration-list declaration \\ 

\noindent
declaration: \\
\quad inlined-declaration \\
\quad {\tt (}identifier type-expression initializer\opt {\tt )} \\
\quad {\tt (}function-identifier {\tt (fn} function-type-list{\tt )} \\
\quad \quad {\rm [}{\tt :attr} function-attribute{\rm ]}\opt register-declarator\opt \\
\quad \quad block-item-list\opt {\tt )} \\ 
\quad {\tt (}struct-or-union-specifier struct-declaration-list\opt {\tt )} \\
\quad {\tt (}enum-specifier enumerator-list {\tt )} \\

\noindent
inlined-declaration-list: \\
\quad inlined-declaration \\
\quad inlined-declaration-list declaration \\ 

\noindent
inlined-declaration: \\
\quad {\tt (}storage-class-specifier identifier type-expression \\
\quad \quad initializer\opt {\tt )} \\
\quad {\tt (}storage-class-specifier function-identifier \\
\quad \quad {\tt (fn} function-type-list{\tt )}\\
\quad \quad {\rm [}{\tt :attr} function-attribute{\rm ]}\opt register-declarator\opt \\
\quad \quad block-item-list\opt {\tt )} \\ 
\quad {\tt (}def-or-decl struct-or-union-specifier \\
\quad \quad struct-declaration-list\opt {\tt )} \\
\quad {\tt (def} enum-specifier enumerator-list {\tt )} \\
\quad {\tt (}compound-storage-class-specifier type-expression \\
\quad \quad init-declarator-list {\tt )} \\
\quad {\tt (deftype} identifier type-expression {\tt )} \\
\quad {\tt (deftype} identifier struct-or-union \\
\quad \quad struct-declaration-list\opt {\tt )} \\
\quad {\tt (deftype} identifier {\tt enum} enumerator-list {\tt )} \\

\noindent
function-identifier: \\
\quad identifier \\
\quad {\tt (}identifier-list{\tt )} \\

\noindent
def-or-decl: \\ \tt
\quad def \\
\quad decl \\ \it

\noindent
init-declarator-list: \\
\quad init-declarator \\
\quad init-declarator-list init-declarator \\ 

\noindent
init-declarator: \\
\quad identifier \\
\quad {\tt (}identifier initializer{\tt )} \\ 

\noindent
storage-class-specifier: {\rm one of} \\  \tt
\quad def decl extern extern-def \\
\quad extern-decl static static-def \\
\quad auto auto-def register register-def \\ \it


\noindent
compound-storage-class-specifier: {\rm one of} \\ \tt
\quad defs extern-defs static-defs auto-defs register-defs \\ \it


\noindent
function-attribute: \\ \tt
\quad inline \\ \it


\noindent
register-declarator: \\
\quad {\tt (register} identifier-list{\tt )} \\

\noindent
struct-declaration-list: \\
\quad struct-declaration \\
\quad struct-declaration-list struct-declaration \\


\noindent
struct-declaration: \\
\quad declaration {\rm [}{\tt :bit} expression{\rm ]}\opt \\

\noindent
enumerator-list: \\
\quad enumerator \\
\quad enumerator-list enumerator \\


\noindent
enumerator: \\
\quad enumeration-constant \\
\quad {\tt (}enumeration-constant expression {\tt )}\\

\noindent
enmuration-constant: \\
\quad identifier \\

\noindent
identifier-list: \\
\quad identifier \\
\quad identifier-list identifier \\

\noindent
designator: \\
\quad {\tt (aref-this} expression-list{\tt )} \\
\quad {\tt (fref-this} identifier-list{\tt )} \\
\quad {\tt (aref} designator expression-list{\tt )} \\
\quad {\tt (fref} designator identifier-list{\tt )} \\

\noindent 
designated-initializer: \\
\quad initializer \\
\quad {\tt (}designator initializer{\tt )}\\

\noindent
initializer-list: \\
\quad designated-initializer \\
\quad initializer-list designated-initializer \\

\noindent
compound-initializer: \\
\quad {\tt (array} initializer-list {\tt )}\\
\quad {\tt (struct} initializer-list {\tt )}\\

\noindent
initializer: \\
\quad expression \\
\quad compound-initializer \\
                            
%------------------------------------------------------------------------------
\rm
\section{Type-expressions}
\it

\noindent
type-expression: \\
\quad type-specifier \\
\quad {\tt (}type-qualifier-list type-expression {\tt )} \\
\quad {\tt (array} type-expression array-subscription-list\opt {\tt )} \\
\quad {\tt (ptr}  type-expression {\tt )} \\
\quad {\tt (fn} function-type-list {\tt )} \\

\noindent
function-type-list: \\
\quad type-expression-list {\tt va-arg}\opt \\

\noindent
type-expression-list \\
\quad type-expression \\
\quad type-expression-list type-expression \\

\noindent
type-specifier: {\rm one of} \\ \tt
\quad void \\
\quad char signed-char unsigned-char \\
\quad short signed-short unsigned-short \\
\quad int signed-int unsigned-int \\
\quad long signed-long unsigned-long \\
\quad long-long signed-long-long \\
\quad unsigned-long-long \\
\quad float double long-double \\ \it
\quad struct-or-union-specifier \\
\quad enum-specifier \\
\quad typedef-name \\

\noindent
array-subscription-list: \\
\quad expression-list \\

\noindent
struct-or-union-specifier: \\
\quad {\tt (}struct-or-union identifier {\tt )} \\

\noindent
struct-or-union: \\ \tt
\quad struct \\
\quad union \\ \it

\noindent
enum-specifier: \\
\quad {\tt (enum} identifier {\tt )} \\

\noindent
type-qualifier-list: \\
\quad type-qualifier \\
\quad type-qualifier-list type-qualifier \\

\noindent
type-qualifier: \\ \tt
\quad const \\
\quad restrict \\
\quad volatile \\ \it

\noindent
typedef-name: \\
\quad identifier \\

%------------------------------------------------------------------------------
\rm
\section{Statements}

\it

\noindent
statement: \\
\quad compound-statement \\
\quad expression-statement \\
\quad selection-statement \\
\quad iteration-statement \\
\quad jump-statement \\
\quad labeled-statement \\
\quad {\tt ()} \\

\noindent
compound-statement: \\
\quad {\tt (}{\tt begin} block-item-list\opt {\tt )} \\
\quad {\tt (}{\tt let} {\tt (}declaration-list\opt {\tt )} block-item-list\opt {\tt )} \\

\noindent
block-item-list: \\
\quad block-item \\
\quad block-item-list block-item \\

\noindent
block-item: \\
\quad inlined-declaration \\
\quad statement \\

\noindent
labeled-statement: \\
\quad {\tt (label} identifier statement {\tt )} \\
\quad {\tt (case} expression {\tt )} \\
\quad {\tt (default)} \\

\noindent
expression-statement: \\
\quad expression \\

\noindent
selection-statement: \\
\quad {\tt (if} expression statement statement\opt {\tt )} \\
\quad {\tt (switch} expression block-item-list\opt {\tt )} \\

\noindent
iteration-statement: \\
\quad {\tt (while} expression block-item-list\opt {\tt )} \\
\quad {\tt (do-while} expression block-item-list\opt {\tt )} \\
\quad {\tt (for} {\tt (}expression-list\opt\ expression expression {\tt )}\\
\quad \quad block-item-list\opt {\tt )} \\
\quad {\tt (for} {\tt (}inlined-declaration-list\opt\\
\quad \quad \quad \quad expression expression {\tt )}\\
\quad \quad block-item-list\opt {\tt )} \\
\quad {\tt (loop} block-item-list\opt {\tt )} \\

\noindent
jump-statement: \\
\quad {\tt (goto} identifier {\tt )} \\
\quad {\tt (continue)} \\
\quad {\tt (break)} \\
\quad {\tt (return} expression\opt {\tt )}

%------------------------------------------------------------------------------
\rm
\section{Expressions}
\it

\noindent
expression: \\
\quad identifier \\
\quad constant \\
\quad string-literal \\
\quad compound-literal \\
\quad {\tt (}expression-list{\tt )} \\
\quad {\tt (aref} expression-list {\tt )} \\
\quad {\tt (fref} expression field-identifier-list {\tt )} \\
\quad {\tt (inc} expression {\tt )} \\
\quad {\tt (dec} expression {\tt )} \\
\quad {\tt (++} experssion {\tt )} \\
\quad {\tt (--} expression {\tt )} \\
\quad {\tt (}unary-operator expression {\tt )} \\
\quad {\tt (sizeof} expression {\tt )} \\
\quad {\tt (sizeof} type-expression {\tt )} \\
\quad {\tt (cast} type-expression expression {\tt )} \\
\quad {\tt (}operator expression-list {\tt )} \\
\quad {\tt (}comparator expression expression {\tt )} \\
\quad {\tt (if-exp} expression expression expression {\tt )} \\
\quad {\tt (}assignment-operator expression expression {\tt )} \\
\quad {\tt (exps} expression-list {\tt )} \\

\noindent
compound-literal: \\
\quad {\tt (init} type-expression compound-initializer{\tt )} \\

\noindent
expression-list: \\
\quad expression \\
\quad expression-list expression \\

\noindent
field-identifier-list: \\
\quad field-identifier \\
\quad field-identifier-list field-identifier \\

\noindent
field-identifier: \\
\quad identifier \\
\quad {\tt ->} identifier \\

\noindent
operator: {\rm one of} \\ \tt
\quad * / \% + - << >> \\
\quad bit-xor bit-and bit-or and or \\ \it

\noindent
comparator: {\rm one of} \\ \tt
\quad < > <= >= == != \\ \it

\noindent
assignment-operator: {\rm one of} \\ \tt
\quad = *= /= \%= += -= <<= >>= bit-and= \\
\quad bit-xor= bit-or= \\ \it

\noindent
unary-operator: {\rm one of} \\ \tt
\quad ptr mref bit-not not \\ \it


\end{document}
